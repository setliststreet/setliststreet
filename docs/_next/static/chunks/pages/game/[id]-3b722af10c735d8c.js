(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3092],{208:(e,r,s)=>{"use strict";s.d(r,{A:()=>o});var t=s(7876),l=s(4232),a=s(8230),n=s.n(a);function o(){let[e,r]=(0,l.useState)(!1);return(0,t.jsx)("header",{className:"bg-white border-b-2 border-gray-200 sticky top-0 z-[999] w-full shadow-md",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12",children:[(0,t.jsx)("div",{className:"countdown-inner"}),(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"countdown-between"}),(0,t.jsx)(n(),{href:"/",className:"text-2xl font-bold text-gray-900 hover:text-purple-600 transition-colors",children:"Setlist Street"})]}),(0,t.jsxs)("nav",{className:"flex items-center gap-4 lg:gap-6",children:[(0,t.jsx)(n(),{href:"/rules",className:"text-gray-800 hover:text-purple-600 px-2 lg:px-3 py-2 text-xs lg:text-sm font-semibold transition-all border-2 border-transparent hover:border-purple-200 rounded-lg hover:bg-purple-50",children:"How to Play"}),(0,t.jsx)("div",{className:"countdown-between"}),(0,t.jsx)(n(),{href:"/faq",className:"text-gray-800 hover:text-purple-600 px-2 lg:px-3 py-2 text-xs lg:text-sm font-semibold transition-all border-2 border-transparent hover:border-purple-200 rounded-lg hover:bg-purple-50",children:"FAQ"}),(0,t.jsx)("div",{className:"countdown-between"}),(0,t.jsx)(n(),{href:"/setlist-hints",className:"text-gray-800 hover:text-purple-600 px-2 lg:px-3 py-2 text-xs lg:text-sm font-semibold transition-all border-2 border-transparent hover:border-purple-200 rounded-lg hover:bg-purple-50",children:"Setlist Hints"}),(0,t.jsx)("div",{className:"countdown-between"}),(0,t.jsx)(n(),{href:"/view-results",className:"text-gray-800 hover:text-purple-600 px-2 lg:px-3 py-2 text-xs lg:text-sm font-semibold transition-all border-2 border-transparent hover:border-purple-200 rounded-lg hover:bg-purple-50",children:"Live Results"}),(0,t.jsx)("div",{className:"countdown-between"}),(0,t.jsx)(n(),{href:"/login",className:"text-gray-800 hover:text-purple-600 px-2 lg:px-3 py-2 text-xs lg:text-sm font-semibold transition-all border-2 border-transparent hover:border-purple-200 rounded-lg hover:bg-purple-50",children:"Sign In"}),(0,t.jsx)("div",{className:"countdown-between"}),(0,t.jsx)(n(),{href:"/register",className:"bg-purple-600 text-white hover:bg-purple-700 px-3 lg:px-4 py-2 text-xs lg:text-sm font-semibold rounded-lg transition-all border-2 border-purple-600 hover:border-purple-700 shadow-md hover:shadow-lg",children:"Sign Up"}),(0,t.jsx)("div",{className:"countdown-between"})]})]}),(0,t.jsx)("div",{className:"countdown-inner"})]})})}},1518:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});var t=s(7876),l=s(4232);function a(e){let{onSetlistChange:r,availableSongs:s=[],maxSongs:a=20}=e,[n,o]=(0,l.useState)([]),[d,i]=(0,l.useState)(""),[c,x]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),g=s.filter(e=>e.toLowerCase().includes(d.toLowerCase())&&!n.includes(e)),h=(0,l.useCallback)(e=>{o(e),null==r||r(e)},[r]),p=(e,r,s)=>{let t={type:"song",songName:r,index:s};x(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify(t))},b=(e,r)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",m(r)},f=()=>{m(null)},v=(e,r)=>{if(e.preventDefault(),m(null),!c)return;let s=[...n];if(void 0!==c.index){let[e]=s.splice(c.index,1);s.splice(r,0,e)}else s.splice(r,0,c.songName);h(s.slice(0,a)),x(null)};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Build Your Setlist (",n.length,"/",a,")"]}),n.length>0&&(0,t.jsx)("button",{onClick:()=>{h([])},className:"text-sm text-red-600 hover:text-red-800 font-medium px-3 py-1 rounded border border-red-200 hover:border-red-300 transition-colors",children:"Clear All"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-3 text-sm",children:"Available Songs"}),(0,t.jsx)("input",{type:"text",placeholder:"Search songs...",value:d,onChange:e=>i(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg mb-3 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),(0,t.jsx)("div",{className:"h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 bg-gray-50",children:0===g.length?(0,t.jsx)("p",{className:"text-gray-500 text-xs text-center py-8",children:d?"No songs found":"No available songs"}):(0,t.jsxs)("div",{className:"space-y-1",children:[g.slice(0,5).map((e,r)=>(0,t.jsx)("div",{draggable:!0,onDragStart:r=>p(r,e),onClick:()=>{n.length<a&&!n.includes(e)&&h([...n,e])},className:"p-2 bg-white border border-gray-200 rounded cursor-move hover:bg-blue-50 hover:border-blue-300 text-xs transition-all shadow-sm",children:e},"".concat(e,"-").concat(r))),g.length>5&&(0,t.jsx)("div",{className:"text-center py-2",children:(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["+",g.length-5," more songs (search to filter)"]})})]})})]}),(0,t.jsxs)("div",{className:"col-span-3",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-3 text-sm",children:"Your Setlist → Drag Songs Here"}),(0,t.jsx)("div",{className:"h-64 border-2 border-dashed rounded-lg p-3 transition-colors ".concat(null===u&&c?"border-blue-400 bg-blue-50":"border-gray-300 bg-gray-50"),onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:e=>{e.preventDefault(),m(null),c&&void 0===c.index&&(n.length<a&&h([...n,c.songName]),x(null))},children:0===n.length?(0,t.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,t.jsx)("p",{className:"text-sm mb-2",children:"← Drag songs from left or click to add"}),(0,t.jsx)("p",{className:"text-xs",children:"Songs will be played in order from top to bottom"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[n.map((e,r)=>(0,t.jsxs)("div",{draggable:!0,onDragStart:s=>p(s,e,r),onDragOver:e=>b(e,r),onDragLeave:f,onDrop:e=>v(e,r),className:"flex items-center justify-between p-2 border rounded cursor-move transition-all ".concat(u===r?"border-blue-400 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:bg-gray-50 shadow-sm"),children:[(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[(0,t.jsxs)("span",{className:"text-xs text-purple-600 mr-2 w-6 font-bold",children:[r+1,"."]}),(0,t.jsx)("span",{className:"text-sm text-gray-800 font-medium",children:e})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation();let s=[...n];s.splice(r,1),h(s)},className:"text-red-500 hover:text-red-700 text-lg ml-2 px-1 rounded hover:bg-red-50 transition-colors",children:"\xd7"})]},"".concat(e,"-").concat(r))),(0,t.jsx)("div",{onDragOver:e=>b(e,n.length),onDragLeave:f,onDrop:e=>v(e,n.length),className:"h-8 border-2 border-dashed rounded transition-colors ".concat(u===n.length?"border-blue-400 bg-blue-50":"border-transparent")})]})})]})]}),n.length>0&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg text-sm border border-purple-200",children:[(0,t.jsx)("h5",{className:"font-medium text-purple-800 mb-2",children:"Current Order:"}),(0,t.jsxs)("p",{className:"text-purple-700 leading-relaxed",children:[n.slice(0,4).join(" → "),n.length>4&&" → ... (+".concat(n.length-4," more)")]})]})]})}},3370:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(7876),l=s(208),a=s(4518);function n(e){let{children:r}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-[url('/images/background1.png')] bg-cover bg-center",children:[(0,t.jsx)(l.A,{}),(0,t.jsx)("main",{children:r}),(0,t.jsx)(a.A,{})]})}},4518:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(7876);s(4232);var l=s(8230),a=s.n(l);function n(){return(0,t.jsxs)("footer",{className:"bg-gray-50 border-t border-gray-200 mt-20",children:[(0,t.jsx)("div",{className:"countdown-outer"}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-16",children:(0,t.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-8",children:[(0,t.jsxs)("div",{className:"flex justify-center lg:justify-start space-x-3",children:[(0,t.jsx)("div",{className:"countdown-between"}),(0,t.jsx)("div",{className:"bg-gray-200 border border-gray-300 rounded-lg p-3 w-20 h-12 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500 text-xs text-center",children:"Sponsor"})}),(0,t.jsx)("div",{className:"bg-gray-200 border border-gray-300 rounded-lg p-3 w-20 h-12 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500 text-xs text-center",children:"Sponsor"})})]}),(0,t.jsxs)("div",{className:"flex-grow flex flex-col items-center",children:[(0,t.jsxs)("nav",{className:"flex flex-wrap justify-center items-center gap-8 mb-3",children:[(0,t.jsx)(a(),{href:"/terms",className:"text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors py-2 px-4 rounded-lg hover:bg-gray-100 border border-transparent hover:border-gray-200",children:"Terms of Service"}),(0,t.jsx)(a(),{href:"/about-this-app",className:"text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors py-2 px-4 rounded-lg hover:bg-gray-100 border border-transparent hover:border-gray-200",children:"About this App"}),(0,t.jsx)(a(),{href:"/privacy",className:"text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors py-2 px-4 rounded-lg hover:bg-gray-100 border border-transparent hover:border-gray-200",children:"Privacy Policy"})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm text-center",children:"\xa9 2025 Setlist Street. All rights reserved."})]}),(0,t.jsxs)("div",{className:"flex justify-center lg:justify-end space-x-3",children:[(0,t.jsx)("div",{className:"bg-gray-200 border border-gray-300 rounded-lg p-3 w-20 h-12 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500 text-xs text-center",children:"Sponsor"})}),(0,t.jsx)("div",{className:"bg-gray-200 border border-gray-300 rounded-lg p-3 w-20 h-12 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500 text-xs text-center",children:"Sponsor"})}),(0,t.jsx)("div",{className:"countdown-between"})]})]})}),(0,t.jsx)("div",{className:"countdown-outer"})]})}},4716:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[id]",function(){return s(5642)}])},5530:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});var t=s(7876),l=s(4232);function a(){let[e,r]=(0,l.useState)(null),[s,a]=(0,l.useState)(""),[n,o]=(0,l.useState)(null),d=r=>{alert("Processing $".concat(r," payment for ").concat(e))};return(0,t.jsxs)("div",{className:"w-full mt-10 text-center",children:[(0,t.jsxs)("div",{className:"flex justify-center gap-8",children:[(0,t.jsx)("button",{onClick:()=>r("cash"),className:"px-6 py-3 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Play for Cash"}),(0,t.jsx)("button",{onClick:()=>r("charity"),className:"px-6 py-3 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Play for Charity"})]}),e&&(0,t.jsxs)("div",{className:"flex gap-4 mt-4",children:[[1,5,10].map(e=>(0,t.jsxs)("button",{onClick:()=>d(e),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:["$",e]},e)),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"Custom",value:s,onChange:e=>a(e.target.value),className:"px-2 py-1 border rounded w-20"}),(0,t.jsx)("button",{onClick:()=>d(Number(s)),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:!s||isNaN(Number(s)),children:"Pay Custom"})]})]})]})}},5642:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var t=s(7876),l=s(5530),a=s(4232),n=s(9099),o=s(3370);function d(e){let{onSongSelect:r,selectedSong:s}=e,[l,n]=(0,a.useState)(s||"");return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Song"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"text",value:l,onChange:e=>{var s;n(s=e.target.value),null==r||r(s)},placeholder:"Search for a song...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),l&&(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Selected: ",l]})]})]})}function i(e){let{amount:r=5,onPayment:s,disabled:l}=e;return(0,t.jsxs)("button",{onClick:s,disabled:l,className:"\n        px-6 py-3 font-medium rounded-lg transition-all\n        ".concat(l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700","\n      "),children:["Pay $",r," to Play"]})}var c=s(1518),x=s(8245);function u(){var e,r;let{id:s}=(0,n.useRouter)().query,[l,u]=(0,a.useState)([]),[m,g]=(0,a.useState)(null),[h,p]=(0,a.useState)(!0),[b,f]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,S]=(0,a.useState)({}),[C,_]=(0,a.useState)(0),[k,A]=(0,a.useState)({}),[D,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s&&(p(!0),f(null),Promise.all([x.N.from("songs").select("id, name"),x.N.from("games").select("id, type, show_date, is_open, entry_fee").eq("id",s).single(),x.N.from("entries").select("guesses").eq("game_id",s)]).then(e=>{let[r,s,t]=e;if(r.error?f(r.error.message):u(r.data||[]),s.error?f(s.error.message):g(s.data||null),t.error)f(t.error.message);else{let e={},r=0,s={};(t.data||[]).forEach(t=>{try{let l=JSON.parse(t.guesses);if(Array.isArray(l)&&l.length>0){let t=l[0];e[t]=(e[t]||0)+1,r++,l.forEach((e,r)=>{s[r]||(s[r]={}),s[r][e]=(s[r][e]||0)+1})}}catch(e){}}),S(e),_(r),A(s)}p(!1)}))},[s,v]);let O=async e=>{N(null);let{error:r}=await x.N.from("entries").insert([{user_id:"mock-user",game_id:s,guesses:JSON.stringify([e]),score:null}]);r?N(r.message):y(!0)},E=async e=>{N(null);let{error:r}=await x.N.from("entries").insert([{user_id:"mock-user",game_id:s,guesses:JSON.stringify(e),score:null}]);r?N(r.message):y(!0)};if(h)return(0,t.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,t.jsx)("p",{children:"Loading game..."})});if(b)return(0,t.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,t.jsxs)("p",{className:"text-red-500",children:["Error: ",b]})});if(v)return(0,t.jsxs)("main",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Guess Submitted!"}),(0,t.jsx)("p",{children:"Thank you for your entry."})]});let P=(null==m?void 0:m.type)==="Full Setlist",J=(null!=(e=null==m?void 0:m.entry_fee)?e:0)>0;return(0,t.jsx)(o.A,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen py-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Game #",s]}),m&&(0,t.jsxs)("div",{className:"mb-6 text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-semibold",children:[m.type," — ",new Date(m.show_date).toLocaleDateString()]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Entry Fee: ",0===m.entry_fee?"Free":"$".concat(m.entry_fee)]})]}),J&&!D?(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)(i,{amount:null!=(r=null==m?void 0:m.entry_fee)?r:0,onSuccess:()=>I(!0)}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"You must pay to enter this game."})]}):P?(0,t.jsx)(c.A,{availableSongs:l,numSlots:10,onSubmit:E}):(0,t.jsx)(d,{songs:l,onSubmit:O}),j&&(0,t.jsx)("p",{className:"text-red-500 mt-4",children:j}),Object.keys(w).length>0&&(0,t.jsxs)("div",{className:"mt-8 bg-white/10 backdrop-blur rounded-lg p-6 max-w-2xl w-full",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Community Predictions (",C," votes)"]}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(w).sort((e,r)=>r[1]-e[1]).slice(0,10).map(e=>{let[r,s]=e,a=l.find(e=>e.id===parseInt(r)),n=Math.round(s/C*100);return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-white",children:(null==a?void 0:a.name)||"Unknown Song"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-24 bg-white/20 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-purple-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(n,"%")}})}),(0,t.jsxs)("span",{className:"text-white/80 text-sm w-12",children:[n,"%"]})]})]},r)})})]})]})})}l.A},8245:(e,r,s)=>{"use strict";s.d(r,{N:()=>t});let t=(0,s(3595).UU)("https://cxfyeuwosrplubgaluwv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4ZnlldXdvc3JwbHViZ2FsdXd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4MTczNDUsImV4cCI6MjA2ODM5MzM0NX0.vvmhblExlhQu8QAd8NwAGxbu-eJzjsaRA6912XuQgTM")},9099:(e,r,s)=>{e.exports=s(8253)}},e=>{e.O(0,[8230,3595,636,6593,8792],()=>e(e.s=4716)),_N_E=e.O()}]);